# Database and LLM Secrets
# These should be created before helm install:
#
# kubectl create secret generic db-credentials \
#   --namespace security-training \
#   --from-literal=password=your-db-password
#
# kubectl create secret generic llm-secrets \
#   --namespace security-training \
#   --from-literal=api-key=your-gemini-api-key
#
# Or use the template below with helm values

{{- if .Values.secrets.createDefaults }}
---
apiVersion: v1
kind: Secret
metadata:
  name: db-credentials
  namespace: {{ .Values.global.namespace }}
type: Opaque
stringData:
  password: {{ .Values.secrets.dbPassword | default "postgres" | quote }}
---
apiVersion: v1
kind: Secret
metadata:
  name: llm-secrets
  namespace: {{ .Values.global.namespace }}
type: Opaque
stringData:
  api-key: {{ .Values.secrets.geminiApiKey | default "" | quote }}
{{- end }}
